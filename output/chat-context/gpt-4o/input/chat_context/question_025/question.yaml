 question: Where is the logic for adding context by mentioning files with @?
# CHAT
# CHAT_QUESTION Where is the logic for adding context by mentioning files with @?

# CHAT_REPLY The logic for adding context by mentioning files with `@` is primarily found in the following files:
# CHAT_REPLY 
# CHAT_REPLY 1. **`cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.ts`**:
# CHAT_REPLY    - This file contains the `ContextItemMentionNode` class, which represents a context item mention node in the prompt editor. It includes methods for creating, importing, exporting, and converting context item mention nodes.
# CHAT_REPLY    - Functions like `$createContextItemMentionNode`, `convertContextItemMentionElement`, and `contextItemMentionNodeDisplayText` handle the creation and display of context item mentions.
# CHAT_REPLY 
# CHAT_REPLY 2. **`cody_test/lib/shared/src/mentions/query.ts`**:
# CHAT_REPLY    - This file contains the `MentionQuery` and `MentionTrigger` interfaces, as well as functions like `parseMentionQuery` and `scanForMentionTriggerInUserTextInput`, which parse and handle @-mention queries in user text input.
# CHAT_REPLY 
# CHAT_REPLY 3. **`cody_test/vscode/src/editor/utils/editor-context.ts`**:
# CHAT_REPLY    - This file contains the `getFileContextFiles` function, which searches for files based on a query and returns context items for those files. It uses fuzzy search to match file paths and create context items.
# CHAT_REPLY 
# CHAT_REPLY 4. **`cody_test/vscode/webviews/chat/fixtures.ts`**:
# CHAT_REPLY    - This file contains fixtures for testing chat interactions, including examples of chat messages with @-mentions for files and symbols.
# CHAT_REPLY 
# CHAT_REPLY 5. **`cody_test/vscode/test/e2e/chat-atFile.test.ts`**:
# CHAT_REPLY    - This file contains end-to-end tests for the @-mention feature, verifying behaviors such as showing a search box for files when typing `@`, handling non-existent files, and inserting file context into chat input.
# CHAT_REPLY 
# CHAT_REPLY 6. **`cody_test/vscode/test/e2e/chat-atFile.test.md`**:
# CHAT_REPLY    - This markdown file documents the expected behaviors for the @-mention feature, including various scenarios and interactions with the chat input and file selector.
# CHAT_REPLY 
# CHAT_REPLY These files collectively handle the parsing, creation, display, and testing of context item mentions using the `@` symbol in the chat input.

# CONTEXT_ITEMS [{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL175-188"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL59-73"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL190-199"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/unit-test-file.tsL18-51"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL77-173"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/editor/utils/editor-context.tsL49-112"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/file-path.tsL13-41"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/current-file.tsL10-48"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/utils/create-context-file.tsL0-23"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/unit-test-case.tsL8-47"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/TESTING.mdL108-123"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/bindings/kotlin/lib/src/main/kotlin/com/sourcegraph/cody/protocol_generated/ContextItem.ktL22-53"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/chat-atFile.test.tsL352-373"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/TESTING.mdL0-32"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/open-tabs.tsL0-42"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/commands/types.tsL60-86"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/editor/displayPath.tsL145-170"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/chat-atFile.test.mdL0-20"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/mentions/query.tsL64-94"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/cody-ignore.test.tsL46-69"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/fixtures.tsL52-78"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/edit/input/utils.tsL0-30"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/mentions/query.tsL0-26"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/codebase-context/messages.tsL88-121"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/chat/fixtures.tsL74-101"}]

 class: Find logic
