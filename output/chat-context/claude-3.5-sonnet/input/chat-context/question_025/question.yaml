 question: Where is the logic for adding context by mentioning files with @?
# CHAT
# CHAT_QUESTION Where is the logic for adding context by mentioning files with @?

# CHAT_REPLY The logic for adding context by mentioning files with @ is implemented in several parts of the codebase:
# CHAT_REPLY 
# CHAT_REPLY 1. In `cody_test/lib/shared/src/mentions/query.ts`, there's a `parseMentionQuery` function that handles parsing @-mention queries.
# CHAT_REPLY 
# CHAT_REPLY 2. The `cody_test/vscode/src/edit/input/utils.ts` file contains utility functions like `removeAfterLastAt` and `getLabelForContextItem` which are used in processing @-mentions.
# CHAT_REPLY 
# CHAT_REPLY 3. The `cody_test/vscode/src/commands/context/open-tabs.ts` file has a `getContextFileFromTabs` function that retrieves context from open tabs, which can be used when mentioning files.
# CHAT_REPLY 
# CHAT_REPLY 4. In `cody_test/vscode/src/editor/utils/editor-context.ts`, there's a `getFileContextFiles` function that searches for and retrieves file context based on a query.
# CHAT_REPLY 
# CHAT_REPLY 5. The `ContextItemMentionNode` class in `cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.ts` handles the creation and rendering of context item mentions in the UI.
# CHAT_REPLY 
# CHAT_REPLY 6. The `cody_test/vscode/test/e2e/chat-atFile.test.ts` file contains end-to-end tests for the @-file mention feature, demonstrating how it should work in practice.
# CHAT_REPLY 
# CHAT_REPLY These components work together to implement the functionality of adding context by mentioning files with @.

# CONTEXT_ITEMS [{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL175-188"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL59-73"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL190-199"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/unit-test-file.tsL18-51"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL77-173"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/editor/utils/editor-context.tsL49-112"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/file-path.tsL13-41"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/current-file.tsL10-48"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/utils/create-context-file.tsL0-23"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/unit-test-case.tsL8-47"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/TESTING.mdL108-123"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/bindings/kotlin/lib/src/main/kotlin/com/sourcegraph/cody/protocol_generated/ContextItem.ktL22-53"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/chat-atFile.test.tsL352-373"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/TESTING.mdL0-32"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/open-tabs.tsL0-42"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/commands/types.tsL60-86"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/editor/displayPath.tsL145-170"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/chat-atFile.test.mdL0-20"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/mentions/query.tsL64-94"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/cody-ignore.test.tsL46-69"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/fixtures.tsL52-78"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/edit/input/utils.tsL0-30"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/mentions/query.tsL0-26"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/codebase-context/messages.tsL88-121"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/chat/fixtures.tsL74-101"}]

 class: Find logic
