 question: Where is the logic for adding context by mentioning files with @?
# CHAT
# CHAT_QUESTION Where is the logic for adding context by mentioning files with @?

# CHAT_REPLY The logic for adding context by mentioning files with @ is implemented in several parts of the codebase:
# CHAT_REPLY 
# CHAT_REPLY 1. In `cody_test/lib/shared/src/mentions/query.ts`, there are functions for parsing and scanning mention queries, including `parseMentionQuery` and `scanForMentionTriggerInUserTextInput`.
# CHAT_REPLY 
# CHAT_REPLY 2. The `getFileContextFiles` function in `cody_test/vscode/src/editor/utils/editor-context.ts` handles searching for and retrieving file context based on user queries.
# CHAT_REPLY 
# CHAT_REPLY 3. The `ContextItemMentionNode` class in `cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.ts` manages the representation of context item mentions in the editor.
# CHAT_REPLY 
# CHAT_REPLY 4. The `getContextFileFromUri` function in `cody_test/vscode/src/commands/context/file-path.ts` is responsible for retrieving context from specific file URIs.
# CHAT_REPLY 
# CHAT_REPLY 5. The e2e tests in `cody_test/vscode/test/e2e/chat-atFile.test.ts` cover various behaviors of the @-mention feature for files.
# CHAT_REPLY 
# CHAT_REPLY These components work together to implement the file mention functionality, handling everything from parsing user input to retrieving and displaying the relevant file context.

# CONTEXT_ITEMS [{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/TESTING.mdL108-123"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/bindings/kotlin/lib/src/main/kotlin/com/sourcegraph/cody/protocol_generated/ContextItem.ktL22-53"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/chat-atFile.test.tsL352-373"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL59-73"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/TESTING.mdL0-32"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL190-199"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/open-tabs.tsL0-42"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/commands/types.tsL60-86"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/editor/displayPath.tsL145-170"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/unit-test-file.tsL18-51"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/chat-atFile.test.mdL0-20"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/nodes/ContextItemMentionNode.tsL77-173"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/mentions/query.tsL64-94"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/test/e2e/cody-ignore.test.tsL46-69"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/editor/utils/editor-context.tsL49-112"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/promptEditor/fixtures.tsL52-78"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/file-path.tsL13-41"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/edit/input/utils.tsL0-30"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/current-file.tsL10-48"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/mentions/query.tsL0-26"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/utils/create-context-file.tsL0-23"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/codebase-context/messages.tsL88-121"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/commands/context/unit-test-case.tsL8-47"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/chat/fixtures.tsL74-101"}]

 class: Find logic
