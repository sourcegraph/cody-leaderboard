 question: Where is the functionality for calling the Sourcegraph API?
# CHAT
# CHAT_QUESTION Where is the functionality for calling the Sourcegraph API?

# CHAT_REPLY The functionality for calling the Sourcegraph API is primarily implemented in the `SourcegraphGraphQLAPIClient` class, which can be found in the file `cody_test/lib/shared/src/sourcegraph-api/graphql/client.ts`. This class contains methods for various API operations, such as fetching site versions, user information, repository data, and more.
# CHAT_REPLY 
# CHAT_REPLY The class uses the `fetchSourcegraphAPI` method to make GraphQL requests to the Sourcegraph API. It handles authentication, sets appropriate headers, and processes the responses.
# CHAT_REPLY 
# CHAT_REPLY Additionally, for completions and streaming responses, there are specialized clients:
# CHAT_REPLY 
# CHAT_REPLY 1. `SourcegraphBrowserCompletionsClient` in `cody_test/lib/shared/src/sourcegraph-api/completions/browserClient.ts` for browser-based API calls.
# CHAT_REPLY 2. `SourcegraphNodeCompletionsClient` in `cody_test/lib/shared/src/sourcegraph-api/completions/nodeClient.ts` for Node.js-based API calls.
# CHAT_REPLY 
# CHAT_REPLY These clients extend the `SourcegraphCompletionsClient` base class and implement the `_streamWithCallbacks` method to handle streaming completions from the Sourcegraph API.

# CONTEXT_ITEMS [{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/completions/nodeClient.tsL20-243"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/recordings/enterpriseMainBranchClient_759014996/recording.har.yamlL170-198"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/completions/client.tsL54-82"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/.vscode/extensions.jsonL0-10"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/completions/browserClient.tsL8-85"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/recordings/enterpriseClient_3965582033/recording.har.yamlL182-216"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/completions/client.tsL91-141"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/completions/client.tsL32-60"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/graphql/client.tsL297-870"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/.github/PULL_REQUEST_TEMPLATE.mdL0-5"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/graphql/client.tsL954-956"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/CHANGELOG.mdL780-795"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/sourcegraph-api/graphql/client.tsL46-49"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/recordings/enterpriseMainBranchClient_759014996/recording.har.yamlL1776-1804"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/utils/VSCodeApi.tsL21-21"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/.github/workflows/pr-auditor.ymlL0-23"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/editor/displayPath.tsL21-44"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/CHANGELOG.mdL694-705"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/index.tsL167-203"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/chat/protocol.tsL273-292"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/recordings/enterpriseClient_3965582033/recording.har.yamlL3616-3645"}]

 class: Find logic
