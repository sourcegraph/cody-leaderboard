 question: Where do we query the embeddings model?
# CHAT
# CHAT_QUESTION Where do we query the embeddings model?

# CHAT_REPLY Based on the provided codebase context, we query the embeddings model in the `retrieveEmbeddingBasedContext` method of the `ContextRankingController` class. This can be seen in the file `cody_test/vscode/src/local-context/context-ranking.ts`.
# CHAT_REPLY 
# CHAT_REPLY The relevant code snippet is:
# CHAT_REPLY 
# CHAT_REPLY ```typescript
# CHAT_REPLY const resp = await service.request('context-ranking/context-retriever-embedding', {
# CHAT_REPLY     repoPath: repoUri.path,
# CHAT_REPLY     query: query.toString(),
# CHAT_REPLY     modelName: modelName,
# CHAT_REPLY     numResults: numResults,
# CHAT_REPLY })
# CHAT_REPLY ```
# CHAT_REPLY 
# CHAT_REPLY This method sends a request to the 'context-ranking/context-retriever-embedding' endpoint with the repository path, query, model name, and the number of results to retrieve. The model name used for embeddings is 'sentence-transformers/multi-qa-mpnet-base-dot-v1', as specified in the `searchModelSpecificEmbeddings` method of the same file.

# CONTEXT_ITEMS [{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/models/index.tsL132-134"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/package.jsonL502-541"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/webviews/chat/models/chatModelContext.tsxL4-7"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/local-context/local-embeddings.tsL103-127"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/src/cli/evaluate-autocomplete/Queries.tsL21-38"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/src/cli/scip-codegen/scip.tsL3000-3017"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/agent/src/cli/evaluate-autocomplete/Queries.tsL40-84"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/completions/providers/fireworks.tsL68-95"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/tree-sitter/query-sdk.test.tsL0-46"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/index.tsL0-26"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/tree-sitter/query-sdk.tsL0-550"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/pnpm-lock.yamlL7525-7552"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/jsonrpc/embeddings-protocol.tsL0-125"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/package.jsonL962-993"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/local-context/context-ranking.tsL279-311"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/chat/chat-view/SimpleChatPanelProvider.tsL36-59"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/context/remote-search.tsL111-118"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/local-context/local-embeddings.tsL30-58"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/testutils/uri.tsL72-74"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/lib/shared/src/models/types.tsL0-62"},{"source":"search","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/supercompletions/prompt.tsL2-2"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/local-context/context-ranking.tsL226-254"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/local-context/context-ranking.tsL286-313"},{"source":"embeddings","file":"/Users/jan/repos/cody-leaderboard/input/chat-context/cody_test/vscode/src/jsonrpc/context-ranking-protocol.tsL0-57"}]

 class: Find logic
